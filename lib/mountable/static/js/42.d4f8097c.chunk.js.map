{"version":3,"sources":["../../../streamlit/frontend/src/components/shared/Radio/Radio.tsx","../../../streamlit/frontend/src/components/widgets/Radio/Radio.tsx"],"names":["Radio","state","value","props","onChange","e","selectedIndex","parseInt","target","setState","prevProps","this","_","theme","width","help","label","horizontal","labelVisibility","disabled","colors","radii","style","options","length","push","className","TooltipIcon","content","placement","Placement","TOP_RIGHT","toString","align","ALIGN","vertical","aria-label","map","option","index","overrides","Root","marginBottom","marginTop","marginRight","paddingLeft","alignItems","paddingRight","backgroundColor","$isFocusVisible","darkenedBgMix25","borderTopLeftRadius","md","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","RadioMarkOuter","height","$checked","primary","fadedText40","RadioMarkInner","Label","color","bodyText","position","top","React","PureComponent","withTheme","formClearHelper","FormClearHelper","initialValue","commitWidgetValue","source","widgetMgr","setIntValue","element","onFormCleared","default","fromUi","storedValue","getIntValue","undefined","setValue","updateFromProtobuf","maybeUpdateFromProtobuf","disconnect","manageFormClearListener","formId","labelVisibilityProtoValueToEnum"],"mappings":"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","file":"static/js/42.d4f8097c.chunk.js","sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { withTheme } from \"@emotion/react\"\nimport { Radio as UIRadio, RadioGroup, ALIGN } from \"baseui/radio\"\nimport {\n  WidgetLabel,\n  StyledWidgetLabelHelpInline,\n} from \"src/components/widgets/BaseWidget\"\nimport TooltipIcon from \"src/components/shared/TooltipIcon\"\nimport { LabelVisibilityOptions } from \"src/lib/utils\"\nimport { Placement } from \"src/components/shared/Tooltip\"\nimport { Theme } from \"src/theme\"\n\nexport interface Props {\n  disabled: boolean\n  horizontal: boolean\n  theme: Theme\n  width?: number\n  value: number\n  onChange: (selectedIndex: number) => any\n  options: any[]\n  label?: string\n  labelVisibility?: LabelVisibilityOptions\n  help?: string\n}\n\ninterface State {\n  /**\n   * The value specified by the user via the UI. If the user didn't touch this\n   * widget's UI, the default value is used.\n   */\n  value: number\n}\n\nclass Radio extends React.PureComponent<Props, State> {\n  public state: State = {\n    value: this.props.value,\n  }\n\n  public componentDidUpdate(prevProps: Props): void {\n    // If props.value has changed, re-initialize state.value.\n    if (\n      prevProps.value !== this.props.value &&\n      this.props.value !== this.state.value\n    ) {\n      this.setState((_, prevProps) => {\n        return { value: prevProps.value }\n      })\n    }\n  }\n\n  private onChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n    const selectedIndex = parseInt(e.target.value, 10)\n    this.setState({ value: selectedIndex }, () =>\n      this.props.onChange(selectedIndex)\n    )\n  }\n\n  public render(): React.ReactNode {\n    const { theme, width, help, label, horizontal, labelVisibility } =\n      this.props\n    let { disabled } = this.props\n    const { colors, radii } = theme\n    const style = { width }\n    const options = [...this.props.options]\n\n    if (options.length === 0) {\n      options.push(\"No options to select.\")\n      disabled = true\n    }\n\n    return (\n      <div className=\"row-widget stRadio\" style={style}>\n        <WidgetLabel\n          label={label}\n          disabled={disabled}\n          labelVisibility={labelVisibility}\n        >\n          {help && (\n            <StyledWidgetLabelHelpInline>\n              <TooltipIcon content={help} placement={Placement.TOP_RIGHT} />\n            </StyledWidgetLabelHelpInline>\n          )}\n        </WidgetLabel>\n        <RadioGroup\n          onChange={this.onChange}\n          value={this.state.value.toString()}\n          disabled={disabled}\n          align={horizontal ? ALIGN.horizontal : ALIGN.vertical}\n          aria-label={label}\n        >\n          {options.map((option: string, index: number) => (\n            <UIRadio\n              key={index}\n              value={index.toString()}\n              overrides={{\n                Root: {\n                  style: ({\n                    $isFocusVisible,\n                  }: {\n                    $isFocusVisible: boolean\n                  }) => ({\n                    marginBottom: 0,\n                    marginTop: 0,\n                    marginRight: \"1rem\",\n                    // Make left and right padding look the same visually.\n                    paddingLeft: 0,\n                    alignItems: \"start\",\n                    paddingRight: \"2px\",\n                    backgroundColor: $isFocusVisible\n                      ? colors.darkenedBgMix25\n                      : \"\",\n                    borderTopLeftRadius: radii.md,\n                    borderTopRightRadius: radii.md,\n                    borderBottomLeftRadius: radii.md,\n                    borderBottomRightRadius: radii.md,\n                  }),\n                },\n                RadioMarkOuter: {\n                  style: ({ $checked }: { $checked: boolean }) => ({\n                    width: \"1rem\",\n                    height: \"1rem\",\n                    marginTop: \"0.35rem\",\n                    marginRight: \"0\",\n                    backgroundColor:\n                      $checked && !disabled\n                        ? colors.primary\n                        : colors.fadedText40,\n                  }),\n                },\n                RadioMarkInner: {\n                  style: ({ $checked }: { $checked: boolean }) => ({\n                    height: $checked ? \"6px\" : \".75rem\",\n                    width: $checked ? \"6px\" : \".75rem\",\n                  }),\n                },\n                Label: {\n                  style: {\n                    color: disabled ? colors.fadedText40 : colors.bodyText,\n                    position: \"relative\",\n                    top: \"1px\",\n                  },\n                },\n              }}\n            >\n              {option}\n            </UIRadio>\n          ))}\n        </RadioGroup>\n      </div>\n    )\n  }\n}\n\nexport default withTheme(Radio)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport UIRadio from \"src/components/shared/Radio\"\nimport { Radio as RadioProto } from \"src/autogen/proto\"\nimport { FormClearHelper } from \"src/components/widgets/Form\"\nimport { WidgetStateManager, Source } from \"src/lib/WidgetStateManager\"\nimport { labelVisibilityProtoValueToEnum } from \"src/lib/utils\"\n\nexport interface Props {\n  disabled: boolean\n  element: RadioProto\n  widgetMgr: WidgetStateManager\n  width: number\n}\n\ninterface State {\n  /**\n   * The value specified by the user via the UI. If the user didn't touch this\n   * widget's UI, the default value is used.\n   */\n  value: number\n}\n\nclass Radio extends React.PureComponent<Props, State> {\n  private readonly formClearHelper = new FormClearHelper()\n\n  public state: State = {\n    value: this.initialValue,\n  }\n\n  get initialValue(): number {\n    // If WidgetStateManager knew a value for this widget, initialize to that.\n    // Otherwise, use the default value from the widget protobuf.\n    const storedValue = this.props.widgetMgr.getIntValue(this.props.element)\n    return storedValue !== undefined ? storedValue : this.props.element.default\n  }\n\n  public componentDidMount(): void {\n    if (this.props.element.setValue) {\n      this.updateFromProtobuf()\n    } else {\n      this.commitWidgetValue({ fromUi: false })\n    }\n  }\n\n  public componentDidUpdate(): void {\n    this.maybeUpdateFromProtobuf()\n  }\n\n  public componentWillUnmount(): void {\n    this.formClearHelper.disconnect()\n  }\n\n  private maybeUpdateFromProtobuf(): void {\n    const { setValue } = this.props.element\n    if (setValue) {\n      this.updateFromProtobuf()\n    }\n  }\n\n  private updateFromProtobuf(): void {\n    const { value } = this.props.element\n    this.props.element.setValue = false\n    this.setState({ value }, () => {\n      this.commitWidgetValue({ fromUi: false })\n    })\n  }\n\n  /** Commit state.value to the WidgetStateManager. */\n  private commitWidgetValue = (source: Source): void => {\n    this.props.widgetMgr.setIntValue(\n      this.props.element,\n      this.state.value,\n      source\n    )\n  }\n\n  /**\n   * If we're part of a clear_on_submit form, this will be called when our\n   * form is submitted. Restore our default value and update the WidgetManager.\n   */\n  private onFormCleared = (): void => {\n    this.setState(\n      (_, prevProps) => {\n        return { value: prevProps.element.default }\n      },\n      () => this.commitWidgetValue({ fromUi: true })\n    )\n  }\n\n  private onChange = (selectedIndex: number): void => {\n    this.setState({ value: selectedIndex }, () =>\n      this.commitWidgetValue({ fromUi: true })\n    )\n  }\n\n  public render(): React.ReactNode {\n    const { disabled, element, width, widgetMgr } = this.props\n    const { horizontal, options, label, labelVisibility, help } = element\n\n    // Manage our form-clear event handler.\n    this.formClearHelper.manageFormClearListener(\n      widgetMgr,\n      element.formId,\n      this.onFormCleared\n    )\n\n    return (\n      <UIRadio\n        label={label}\n        onChange={this.onChange}\n        options={options}\n        width={width}\n        disabled={disabled}\n        horizontal={horizontal}\n        labelVisibility={labelVisibilityProtoValueToEnum(\n          labelVisibility?.value\n        )}\n        value={this.state.value}\n        help={help}\n      />\n    )\n  }\n}\n\nexport default Radio\n"],"sourceRoot":""}