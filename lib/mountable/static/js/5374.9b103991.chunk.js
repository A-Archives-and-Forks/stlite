"use strict";(self.webpackChunkstlite=self.webpackChunkstlite||[]).push([[5374],{45374:(e,t,r)=>{r.r(t),r.d(t,{default:()=>i});var n=r(72176),u=r(14503),s=r(80812);function i(e){let{element:t,width:r,endpoints:i,elementMgr:a}=e;const d=(0,n.useRef)(null),{startTime:c,endTime:l,loop:o,autoplay:m}=t,f=(0,n.useMemo)((()=>{if(!t.id)return!0;const e=a.getElementState(t.id,"preventAutoplay");return e||a.setElementState(t.id,"preventAutoplay",!0),null!==e&&void 0!==e&&e}),[t.id,a]);(0,n.useEffect)((()=>{d.current&&(d.current.currentTime=c)}),[c]),(0,n.useEffect)((()=>{const e=d.current,r=()=>{e&&(e.currentTime=t.startTime)};return e&&e.addEventListener("loadedmetadata",r),()=>{e&&e.removeEventListener("loadedmetadata",r)}}),[t]),(0,n.useEffect)((()=>{const e=d.current;if(!e)return;let t=!1;const r=()=>{l>0&&e.currentTime>=l&&(o?(e.currentTime=c||0,e.play()):t||(t=!0,e.pause()))};return l>0&&e.addEventListener("timeupdate",r),()=>{e&&l>0&&e.removeEventListener("timeupdate",r)}}),[l,o,c]),(0,n.useEffect)((()=>{const e=d.current;if(!e)return;const t=()=>{o&&(e.currentTime=c||0,e.play())};return e.addEventListener("ended",t),()=>{e&&e.removeEventListener("ended",t)}}),[o,c]);const p=(0,u.PY)(t.url),v=i.buildMediaURL(p);return(0,s.jsx)("audio",{className:"stAudio","data-testid":"stAudio",ref:d,controls:!0,autoPlay:m&&!f,src:v,style:{width:r}})}}}]);
//# sourceMappingURL=5374.9b103991.chunk.js.map