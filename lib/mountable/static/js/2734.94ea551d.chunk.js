"use strict";(self.webpackChunkstlite=self.webpackChunkstlite||[]).push([[2734],{68895:(e,t,r)=>{r.d(t,{A:()=>d});r(72176);var o=r(61872),l=r(89183),i=r(271);const n=r(60137).i7`
  50% {
    color: rgba(0, 0, 0, 0);
  }
`,a=(0,i.A)("span",{target:"edlqvik0"})((e=>{let{includeDot:t,shouldBlink:r,theme:o}=e;return{...t?{"&::before":{opacity:1,content:'"\u2022"',animation:"none",color:o.colors.gray,margin:`0 ${o.spacing.twoXS}`}}:{},...r?{color:o.colors.red,animationName:`${n}`,animationDuration:"0.5s",animationIterationCount:5}:{}}}),"");var s=r(80812);const d=e=>{let{dirty:t,value:r,inForm:i,maxLength:n,className:d,type:u="single",allowEnterToSubmit:c=!0}=e;const p=[],m=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p.push((0,s.jsx)(a,{includeDot:p.length>0,shouldBlink:t,children:e},p.length))};if(c){const e=i?"submit form":"apply";if("multiline"===u){m(`Press ${(0,o.u_)()?"\u2318":"Ctrl"}+Enter to ${e}`)}else"single"===u&&m(`Press Enter to ${e}`)}return n&&("chat"!==u||t)&&m(`${r.length}/${n}`,t&&r.length>=n),(0,s.jsx)(l.tp,{"data-testid":"InputInstructions",className:d,children:p})}},81805:(e,t,r)=>{r.d(t,{X:()=>n,o:()=>i});var o=r(72176),l=r(61872);class i{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,t,r){(0,l.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,l._L)(t)&&(this.formClearListener=e.addFormClearedListener(t,r),this.lastWidgetMgr=e,this.lastFormId=t))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function n(e){let{element:t,widgetMgr:r,onFormCleared:i}=e;(0,o.useEffect)((()=>{if(!(0,l._L)(t.formId))return;const e=r.addFormClearedListener(t.formId,i);return()=>{e.disconnect()}}),[t,r,i])}},12734:(e,t,r)=>{r.r(t),r.d(t,{default:()=>D});var o=r(72176),l=r(53236),i=r(19570),n=r(60265),a=r(89176),s=r(39725),d=r(4204),u=r.n(d),c=r(61872),p=r(81805),m=r(52183),h=r(40252),g=r(76355),b=r(76341),f=r(73584),v=r(68895),y=r(37097),C=r(89183),I=r(271);const k=(0,I.A)("div",{target:"e116k4er3"})((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"row",flexWrap:"nowrap",alignItems:"center",height:t.sizes.minElementHeight,borderWidth:t.sizes.borderWidth,borderStyle:"solid",borderColor:t.colors.widgetBorderColor||t.colors.widgetBackgroundColor||t.colors.bgColor,transitionDuration:"200ms",transitionProperty:"border",transitionTimingFunction:"cubic-bezier(0.2, 0.8, 0.4, 1)",borderRadius:t.radii.default,overflow:"hidden","&.focused":{borderColor:t.colors.primary},input:{MozAppearance:"textfield","&::-webkit-inner-spin-button, &::-webkit-outer-spin-button":{WebkitAppearance:"none",margin:t.spacing.none}}}}),""),w=(0,I.A)("div",{target:"e116k4er2"})({name:"76z9jo",styles:"display:flex;flex-direction:row;align-self:stretch"}),T=(0,I.A)("button",{target:"e116k4er1"})((e=>{let{theme:t}=e;return{margin:t.spacing.none,border:"none",height:t.sizes.full,display:"flex",alignItems:"center",width:"32px",justifyContent:"center",color:t.colors.bodyText,transition:"color 300ms, backgroundColor 300ms",backgroundColor:t.colors.widgetBackgroundColor||t.colors.secondaryBg,"&:hover:enabled, &:focus:enabled":{color:t.colors.white,backgroundColor:t.colors.primary,transition:"none",outline:"none"},"&:active":{outline:"none",border:"none"},"&:last-of-type":{borderTopRightRadius:t.radii.default,borderBottomRightRadius:t.radii.default},"&:disabled":{cursor:"not-allowed",color:t.colors.fadedText40}}}),""),x=(0,I.A)("div",{target:"e116k4er0"})((e=>{let{theme:t,clearable:r}=e;return{position:"absolute",marginRight:t.spacing.twoXS,left:0,right:64+(r?12:0)+"px"}}),"");var F=r(80812);const R=e=>{let{step:t,dataType:r}=e;return t||(r===h.Q7.DataType.INT?1:.01)},S=e=>{let{value:t,format:r,step:o,dataType:l}=e;if((0,c.hX)(t))return null;let i=function(e){return(0,c.hX)(e)||""===e?void 0:e}(r);if((0,c.hX)(i)&&(0,c.se)(o)){const e=o.toString();if(l===h.Q7.DataType.FLOAT&&0!==o&&e.includes(".")){i=`%0.${e.split(".")[1].length}f`}}if((0,c.hX)(i))return t.toString();try{return(0,a.sprintf)(i,t)}catch(n){return(0,m.FF)(`Error in sprintf(${i}, ${t}): ${n}`),String(t)}},D=(0,n.b)((e=>{var t;let{disabled:r,element:n,widgetMgr:a,width:d,theme:m,fragmentId:I}=e;const{dataType:D,id:j,formId:A,default:L,format:N}=n,W=n.hasMin?n.min:-1/0,E=n.hasMax?n.max:1/0,[M,z]=(0,o.useState)(R(n)),B=(e=>{var t;const r=e.element.dataType===h.Q7.DataType.INT?e.widgetMgr.getIntValue(e.element):e.widgetMgr.getDoubleValue(e.element);return null!==(t=null!==r&&void 0!==r?r:e.element.default)&&void 0!==t?t:null})({element:n,widgetMgr:a}),[X,$]=(0,o.useState)(!1),[V,U]=(0,o.useState)(B),[Q,_]=(0,o.useState)(S({value:B,...n,step:M})),[H,P]=(0,o.useState)(!1),O=(0,o.useRef)(null),G=(0,o.useRef)(u()("number_input_")),K=((e,t,r)=>!(0,c.hX)(e)&&e-t>=r)(V,M,W),q=((e,t,r)=>!(0,c.hX)(e)&&e+t<=r)(V,M,E),J=(0,c.Ml)({formId:A}),Y=J?a.allowFormEnterToSubmit(A):X,Z=H&&d>m.breakpoints.hideWidgetDetails;(0,o.useEffect)((()=>{z(R({step:n.step,dataType:n.dataType}))}),[n.dataType,n.step]);const ee=(0,o.useCallback)((e=>{let{value:t,source:r}=e;if((0,c.se)(t)&&(W>t||t>E)){var o;null===(o=O.current)||void 0===o||o.reportValidity()}else{var l;const e=null!==(l=null!==t&&void 0!==t?t:L)&&void 0!==l?l:null;switch(D){case h.Q7.DataType.INT:a.setIntValue({id:j,formId:A},e,r,I);break;case h.Q7.DataType.FLOAT:a.setDoubleValue({id:j,formId:A},e,r,I);break;default:throw new Error("Invalid data type")}$(!1),U(e),_(S({value:e,dataType:D,format:N,step:M}))}}),[W,E,O,a,I,M,D,j,A,L,N]),te=(0,o.useCallback)((()=>{X&&ee({value:V,source:{fromUi:!0}}),P(!1)}),[X,V,ee]),re=(0,o.useCallback)((()=>{P(!0)}),[]),oe=(0,o.useCallback)((()=>{const{value:e}=n;n.setValue=!1,U(null!==e&&void 0!==e?e:null),_(S({value:null!==e&&void 0!==e?e:null,...n,step:M})),ee({value:null!==e&&void 0!==e?e:null,source:{fromUi:!1}})}),[n,M,ee]);(0,o.useEffect)((()=>{n.setValue?oe():ee({value:V,source:{fromUi:!1}})}),[]),n.setValue&&oe();const le=(0,c.hX)(n.default)&&!r,ie=(0,o.useCallback)((()=>{var e;const t=null!==(e=n.default)&&void 0!==e?e:null;U(t),ee({value:t,source:{fromUi:!0}})}),[n]);(0,p.X)({element:n,widgetMgr:a,onFormCleared:ie});const ne=(0,o.useCallback)((()=>{q&&($(!0),ee({value:(null!==V&&void 0!==V?V:W)+M,source:{fromUi:!0}}))}),[V,W,M,q]),ae=(0,o.useCallback)((()=>{K&&($(!0),ee({value:(null!==V&&void 0!==V?V:E)-M,source:{fromUi:!0}}))}),[V,E,M,K]),se=(0,o.useCallback)((e=>{const{key:t}=e;switch(t){case"ArrowUp":e.preventDefault(),ne();break;case"ArrowDown":e.preventDefault(),ae()}}),[ne,ae]),de=(0,o.useCallback)((e=>{"Enter"===e.key&&(X&&ee({value:V,source:{fromUi:!0}}),a.allowFormEnterToSubmit(A)&&a.submitForm(A,I))}),[X,V,ee,a,A,I]);return(0,F.jsxs)("div",{className:"stNumberInput","data-testid":"stNumberInput",style:{width:d},children:[(0,F.jsx)(y.L,{label:n.label,disabled:r,labelVisibility:(0,c.yv)(null===(t=n.labelVisibility)||void 0===t?void 0:t.value),htmlFor:G.current,children:n.help&&(0,F.jsx)(C.j,{children:(0,F.jsx)(g.A,{content:n.help,placement:b.W.TOP_RIGHT})})}),(0,F.jsxs)(k,{className:H?"focused":"","data-testid":"stNumberInputContainer",children:[(0,F.jsx)(s.A,{type:"number",inputRef:O,value:null!==Q&&void 0!==Q?Q:"",placeholder:n.placeholder,onBlur:te,onFocus:re,onChange:e=>{const{value:t}=e.target;if(""===t)$(!0),U(null),_(null);else{let e;e=n.dataType===h.Q7.DataType.INT?parseInt(t,10):parseFloat(t),$(!0),U(e),_(t)}},onKeyPress:de,onKeyDown:se,clearable:le,clearOnEscape:le,disabled:r,"aria-label":n.label,id:G.current,overrides:{ClearIconContainer:{style:{padding:0}},ClearIcon:{props:{overrides:{Svg:{style:{color:m.colors.darkGray,padding:m.spacing.threeXS,height:m.sizes.clearIconSize,width:m.sizes.clearIconSize,":hover":{fill:m.colors.bodyText}}}}}},Input:{props:{"data-testid":"stNumberInputField",step:M,min:W,max:E},style:{lineHeight:m.lineHeights.inputWidget,paddingRight:m.spacing.sm,paddingLeft:m.spacing.sm,paddingBottom:m.spacing.sm,paddingTop:m.spacing.sm}},InputContainer:{style:()=>({borderTopRightRadius:0,borderBottomRightRadius:0})},Root:{style:{borderTopRightRadius:0,borderBottomRightRadius:0,borderLeftWidth:0,borderRightWidth:0,borderTopWidth:0,borderBottomWidth:0,paddingRight:0}}}}),d>m.breakpoints.hideNumberInputControls&&(0,F.jsxs)(w,{children:[(0,F.jsx)(T,{"data-testid":"stNumberInputStepDown",onClick:ae,disabled:!K||r,tabIndex:-1,children:(0,F.jsx)(f.A,{content:l.H,size:"xs",color:K?"inherit":"disabled"})}),(0,F.jsx)(T,{"data-testid":"stNumberInputStepUp",onClick:ne,disabled:!q||r,tabIndex:-1,children:(0,F.jsx)(f.A,{content:i.F,size:"xs",color:q?"inherit":"disabled"})})]})]}),Z&&(0,F.jsx)(x,{clearable:le,children:(0,F.jsx)(v.A,{dirty:X,value:null!==Q&&void 0!==Q?Q:"",inForm:J,allowEnterToSubmit:Y})})]})}))}}]);
//# sourceMappingURL=2734.94ea551d.chunk.js.map