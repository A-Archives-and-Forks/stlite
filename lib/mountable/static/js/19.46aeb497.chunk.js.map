{"version":3,"sources":["../../../streamlit/frontend/src/components/shared/InputInstructions/styled-components.ts","../../../streamlit/frontend/src/components/shared/InputInstructions/InputInstructions.tsx","../../../node_modules/baseui/esm/input/input.js","../../../node_modules/sprintf-js/src/sprintf.js","../../../node_modules/@emotion-icons/open-iconic/Minus/Minus.esm.js","../../../node_modules/@emotion-icons/open-iconic/Plus/Plus.esm.js","../../../streamlit/frontend/src/components/widgets/NumberInput/styled-components.ts","../../../streamlit/frontend/src/components/widgets/NumberInput/NumberInput.tsx"],"names":["blink","keyframes","StyledMessage","includeDot","shouldBlink","theme","opacity","content","animation","color","colors","gray","margin","red","animationName","animationDuration","animationIterationCount","InputInstructions","dirty","value","maxLength","className","type","messages","addMessage","text","push","length","isFromMac","_typeof","obj","Symbol","iterator","constructor","prototype","_excluded","_excluded2","_extends","Object","assign","bind","target","i","arguments","source","key","hasOwnProperty","call","apply","this","_slicedToArray","arr","Array","isArray","_arrayWithHoles","_i","_s","_e","_arr","_n","_d","next","done","err","_iterableToArrayLimit","o","minLen","_arrayLikeToArray","n","toString","slice","name","from","test","_unsupportedIterableToArray","TypeError","_nonIterableRest","len","arr2","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_classCallCheck","instance","Constructor","_defineProperties","props","descriptor","enumerable","configurable","writable","defineProperty","_setPrototypeOf","p","setPrototypeOf","__proto__","_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_isNativeReflectConstruct","result","Super","_getPrototypeOf","NewTarget","_possibleConstructorReturn","self","_assertThisInitialized","ReferenceError","getPrototypeOf","_defineProperty","Input","_React$Component","subClass","superClass","create","_inherits","protoProps","staticProps","_super","_this","_len","args","_key","concat","isFocused","autoFocus","setState","onFocus","onBlur","_this$props","startEnhancer","endEnhancer","_this$props$overrides","overrides","RootOverride","Root","StartEnhancerOverride","StartEnhancer","EndEnhancerOverride","EndEnhancer","restOverrides","restProps","_getOverrides2","getOverrides","StyledRoot","rootProps","_getOverrides4","StyledInputEnhancer","startEnhancerProps","_getOverrides6","endEnhancerProps","sharedProps","getSharedProps","state","React","$adjoined","getAdjoinedProp","$hasIconTrailing","clearable","isEnhancer","$position","ENHANCER_POSITION","start","BaseInput","adjoined","end","ADJOINED","both","left","right","none","enhancer","autoComplete","disabled","required","size","SIZE","default","readOnly","re","not_string","not_bool","not_type","not_primitive","number","numeric_arg","json","not_json","modulo","placeholder","key_access","index_access","sign","sprintf","sprintf_format","sprintf_parse","vsprintf","fmt","argv","parse_tree","arg","k","ph","pad","pad_character","pad_length","is_positive","cursor","tree_length","output","undefined","Error","param_no","Function","isNaN","parseInt","String","fromCharCode","JSON","stringify","width","precision","parseFloat","toExponential","toFixed","Number","toPrecision","substring","toLowerCase","toUpperCase","replace","pad_char","charAt","repeat","align","sprintf_cache","match","_fmt","arg_names","exec","SyntaxError","field_list","replacement_field","field_match","exports","window","define","Minus","ref","EmotionIconBase","iconAttrs","iconVerticalAlign","iconViewBox","d","displayName","Plus","StyledInputContainer","display","flexDirection","flexWrap","alignItems","border","transitionDuration","transitionProperty","transitionTimingFunction","borderRadius","radii","md","borderColor","primary","input","MozAppearance","WebkitAppearance","spacing","StyledInputControls","StyledInputControl","height","sizes","full","justifyContent","bodyText","transition","backgroundColor","secondaryBg","white","outline","borderTopRightRadius","borderBottomRightRadius","fadedText40","StyledInstructionsContainer","position","marginRight","twoXS","CONTROLS_WIDTH","NumberInput","formClearHelper","FormClearHelper","inputRef","createRef","formatValue","format","getNonEmptyString","element","logWarning","isIntData","dataType","NumberInputProto","DataType","INT","getMin","hasMin","min","Infinity","getMax","hasMax","max","getStep","step","commitWidgetValue","widgetMgr","data","node","current","reportValidity","valueToBeSaved","setIntValue","setDoubleValue","formattedValue","onFormCleared","_","prevProps","fromUi","onChange","numValue","onKeyDown","preventDefault","modifyValueUsingStep","onKeyPress","modifier","canIncrement","canDecrement","initialValue","storedValue","getIntValue","getDoubleValue","setValue","updateFromProtobuf","maybeUpdateFromProtobuf","disconnect","style","disableDecrement","disableIncrement","manageFormClearListener","formId","label","labelVisibility","labelVisibilityProtoValueToEnum","help","TooltipIcon","placement","Placement","TOP_RIGHT","aria-label","lineHeight","paddingRight","paddingLeft","paddingBottom","paddingTop","InputContainer","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth","onClick","Icon","PureComponent"],"mappings":"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","file":"static/js/19.46aeb497.chunk.js","sourcesContent":["/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\nimport { keyframes } from \"@emotion/react\"\n\nconst blink = keyframes`\n  50% {\n    color: rgba(0, 0, 0, 0);\n  }\n`\n\nexport interface StyledMessageProps {\n  includeDot: boolean\n  shouldBlink: boolean\n}\n\nexport const StyledMessage = styled.span<StyledMessageProps>(\n  ({ includeDot, shouldBlink, theme }) => ({\n    ...(includeDot\n      ? {\n          \"&::before\": {\n            opacity: 1,\n            content: '\"•\"',\n            animation: \"none\",\n            color: theme.colors.gray,\n            margin: \"0 5px\",\n          },\n        }\n      : {}),\n    ...(shouldBlink\n      ? {\n          color: theme.colors.red,\n          animationName: `${blink}`,\n          animationDuration: \"0.5s\",\n          animationIterationCount: 5,\n        }\n      : {}),\n  })\n)\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React, { ReactElement } from \"react\"\nimport { isFromMac } from \"src/lib/utils\"\nimport { StyledWidgetInstructions } from \"src/components/widgets/BaseWidget\"\nimport { StyledMessage } from \"./styled-components\"\n\nexport interface Props {\n  dirty: boolean\n  value: string\n  maxLength?: number\n  className?: string\n  type?: \"multiline\" | \"single\"\n}\n\nconst InputInstructions = ({\n  dirty,\n  value,\n  maxLength,\n  className,\n  type = \"single\",\n}: Props): ReactElement => {\n  const messages: ReactElement[] = []\n  const addMessage = (text: string, shouldBlink = false): void => {\n    messages.push(\n      <StyledMessage\n        key={messages.length}\n        includeDot={messages.length > 0}\n        shouldBlink={shouldBlink}\n      >\n        {text}\n      </StyledMessage>\n    )\n  }\n\n  if (dirty) {\n    if (type === \"multiline\") {\n      if (isFromMac()) {\n        addMessage(\"Press ⌘+Enter to apply\")\n      } else {\n        addMessage(\"Press Ctrl+Enter to apply\")\n      }\n    } else {\n      addMessage(\"Press Enter to apply\")\n    }\n  }\n\n  if (maxLength) {\n    addMessage(\n      `${value.length}/${maxLength}`,\n      dirty && value.length >= maxLength\n    )\n  }\n\n  return (\n    <StyledWidgetInstructions className={className}>\n      {messages}\n    </StyledWidgetInstructions>\n  )\n}\n\nexport default InputInstructions\n","function _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _excluded = [\"Root\", \"StartEnhancer\", \"EndEnhancer\"],\n    _excluded2 = [\"startEnhancer\", \"endEnhancer\", \"overrides\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _slicedToArray(arr, i) { return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest(); }\n\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _iterableToArrayLimit(arr, i) { var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]; if (_i == null) return; var _arr = []; var _n = true; var _d = false; var _s, _e; try { for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"] != null) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; }\n\nfunction _arrayWithHoles(arr) { if (Array.isArray(arr)) return arr; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf ? Object.setPrototypeOf.bind() : function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n/*\nCopyright (c) Uber Technologies, Inc.\n\nThis source code is licensed under the MIT license found in the\nLICENSE file in the root directory of this source tree.\n*/\nimport * as React from 'react';\nimport { getOverrides } from '../helpers/overrides';\nimport { getSharedProps } from './utils';\nimport BaseInput from './base-input';\nimport { Root as StyledRoot, InputEnhancer as StyledInputEnhancer } from './styled-components';\nimport { SIZE, ADJOINED, ENHANCER_POSITION } from './constants';\n\nvar Input = /*#__PURE__*/function (_React$Component) {\n  _inherits(Input, _React$Component);\n\n  var _super = _createSuper(Input);\n\n  function Input() {\n    var _this;\n\n    _classCallCheck(this, Input);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isFocused: _this.props.autoFocus || false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onFocus\", function (e) {\n      _this.setState({\n        isFocused: true\n      });\n\n      _this.props.onFocus(e);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onBlur\", function (e) {\n      _this.setState({\n        isFocused: false\n      });\n\n      _this.props.onBlur(e);\n    });\n\n    return _this;\n  }\n\n  _createClass(Input, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props = this.props,\n          startEnhancer = _this$props.startEnhancer,\n          endEnhancer = _this$props.endEnhancer,\n          _this$props$overrides = _this$props.overrides,\n          RootOverride = _this$props$overrides.Root,\n          StartEnhancerOverride = _this$props$overrides.StartEnhancer,\n          EndEnhancerOverride = _this$props$overrides.EndEnhancer,\n          restOverrides = _objectWithoutProperties(_this$props$overrides, _excluded),\n          restProps = _objectWithoutProperties(_this$props, _excluded2);\n\n      var _getOverrides = getOverrides(RootOverride, StyledRoot),\n          _getOverrides2 = _slicedToArray(_getOverrides, 2),\n          Root = _getOverrides2[0],\n          rootProps = _getOverrides2[1];\n\n      var _getOverrides3 = getOverrides(StartEnhancerOverride, StyledInputEnhancer),\n          _getOverrides4 = _slicedToArray(_getOverrides3, 2),\n          StartEnhancer = _getOverrides4[0],\n          startEnhancerProps = _getOverrides4[1];\n\n      var _getOverrides5 = getOverrides(EndEnhancerOverride, StyledInputEnhancer),\n          _getOverrides6 = _slicedToArray(_getOverrides5, 2),\n          EndEnhancer = _getOverrides6[0],\n          endEnhancerProps = _getOverrides6[1];\n\n      var sharedProps = getSharedProps(this.props, this.state);\n\n      if (process.env.NODE_ENV !== \"production\") {\n        if (this.props.error && this.props.positive) {\n          // eslint-disable-next-line no-console\n          console.warn(\"[Input] `error` and `positive` are both set to `true`. `error` will take precedence but this may not be what you want.\");\n        }\n      }\n\n      return /*#__PURE__*/React.createElement(Root, _extends({\n        \"data-baseweb\": \"input\"\n      }, sharedProps, rootProps, {\n        $adjoined: getAdjoinedProp(startEnhancer, endEnhancer),\n        $hasIconTrailing: this.props.clearable || this.props.type == 'password'\n      }), isEnhancer(startEnhancer) && /*#__PURE__*/React.createElement(StartEnhancer, _extends({}, sharedProps, startEnhancerProps, {\n        $position: ENHANCER_POSITION.start\n      }), typeof startEnhancer === 'function' ? startEnhancer(sharedProps) : startEnhancer), /*#__PURE__*/React.createElement(BaseInput, _extends({}, restProps, {\n        overrides: restOverrides,\n        adjoined: getAdjoinedProp(startEnhancer, endEnhancer),\n        onFocus: this.onFocus,\n        onBlur: this.onBlur\n      })), isEnhancer(endEnhancer) && /*#__PURE__*/React.createElement(EndEnhancer, _extends({}, sharedProps, endEnhancerProps, {\n        $position: ENHANCER_POSITION.end\n      }), typeof endEnhancer === 'function' ? endEnhancer(sharedProps) : endEnhancer));\n    }\n  }]);\n\n  return Input;\n}(React.Component);\n\n_defineProperty(Input, \"defaultProps\", {\n  autoComplete: 'on',\n  autoFocus: false,\n  disabled: false,\n  name: '',\n  onBlur: function onBlur() {},\n  onFocus: function onFocus() {},\n  overrides: {},\n  required: false,\n  size: SIZE.default,\n  startEnhancer: null,\n  endEnhancer: null,\n  clearable: false,\n  type: 'text',\n  readOnly: false\n});\n\nfunction getAdjoinedProp(startEnhancer, endEnhancer) {\n  if (isEnhancer(startEnhancer) && isEnhancer(endEnhancer)) {\n    return ADJOINED.both;\n  } else if (isEnhancer(startEnhancer)) {\n    return ADJOINED.left;\n  } else if (isEnhancer(endEnhancer)) {\n    return ADJOINED.right;\n  }\n\n  return ADJOINED.none;\n}\n\nfunction isEnhancer(enhancer) {\n  return Boolean(enhancer || enhancer === 0);\n}\n\nexport default Input;\nexport { default as StatefulContainer } from './stateful-container';","/* global window, exports, define */\n\n!function() {\n    'use strict'\n\n    var re = {\n        not_string: /[^s]/,\n        not_bool: /[^t]/,\n        not_type: /[^T]/,\n        not_primitive: /[^v]/,\n        number: /[diefg]/,\n        numeric_arg: /[bcdiefguxX]/,\n        json: /[j]/,\n        not_json: /[^j]/,\n        text: /^[^\\x25]+/,\n        modulo: /^\\x25{2}/,\n        placeholder: /^\\x25(?:([1-9]\\d*)\\$|\\(([^)]+)\\))?(\\+)?(0|'[^$])?(-)?(\\d+)?(?:\\.(\\d+))?([b-gijostTuvxX])/,\n        key: /^([a-z_][a-z_\\d]*)/i,\n        key_access: /^\\.([a-z_][a-z_\\d]*)/i,\n        index_access: /^\\[(\\d+)\\]/,\n        sign: /^[+-]/\n    }\n\n    function sprintf(key) {\n        // `arguments` is not an array, but should be fine for this call\n        return sprintf_format(sprintf_parse(key), arguments)\n    }\n\n    function vsprintf(fmt, argv) {\n        return sprintf.apply(null, [fmt].concat(argv || []))\n    }\n\n    function sprintf_format(parse_tree, argv) {\n        var cursor = 1, tree_length = parse_tree.length, arg, output = '', i, k, ph, pad, pad_character, pad_length, is_positive, sign\n        for (i = 0; i < tree_length; i++) {\n            if (typeof parse_tree[i] === 'string') {\n                output += parse_tree[i]\n            }\n            else if (typeof parse_tree[i] === 'object') {\n                ph = parse_tree[i] // convenience purposes only\n                if (ph.keys) { // keyword argument\n                    arg = argv[cursor]\n                    for (k = 0; k < ph.keys.length; k++) {\n                        if (arg == undefined) {\n                            throw new Error(sprintf('[sprintf] Cannot access property \"%s\" of undefined value \"%s\"', ph.keys[k], ph.keys[k-1]))\n                        }\n                        arg = arg[ph.keys[k]]\n                    }\n                }\n                else if (ph.param_no) { // positional argument (explicit)\n                    arg = argv[ph.param_no]\n                }\n                else { // positional argument (implicit)\n                    arg = argv[cursor++]\n                }\n\n                if (re.not_type.test(ph.type) && re.not_primitive.test(ph.type) && arg instanceof Function) {\n                    arg = arg()\n                }\n\n                if (re.numeric_arg.test(ph.type) && (typeof arg !== 'number' && isNaN(arg))) {\n                    throw new TypeError(sprintf('[sprintf] expecting number but found %T', arg))\n                }\n\n                if (re.number.test(ph.type)) {\n                    is_positive = arg >= 0\n                }\n\n                switch (ph.type) {\n                    case 'b':\n                        arg = parseInt(arg, 10).toString(2)\n                        break\n                    case 'c':\n                        arg = String.fromCharCode(parseInt(arg, 10))\n                        break\n                    case 'd':\n                    case 'i':\n                        arg = parseInt(arg, 10)\n                        break\n                    case 'j':\n                        arg = JSON.stringify(arg, null, ph.width ? parseInt(ph.width) : 0)\n                        break\n                    case 'e':\n                        arg = ph.precision ? parseFloat(arg).toExponential(ph.precision) : parseFloat(arg).toExponential()\n                        break\n                    case 'f':\n                        arg = ph.precision ? parseFloat(arg).toFixed(ph.precision) : parseFloat(arg)\n                        break\n                    case 'g':\n                        arg = ph.precision ? String(Number(arg.toPrecision(ph.precision))) : parseFloat(arg)\n                        break\n                    case 'o':\n                        arg = (parseInt(arg, 10) >>> 0).toString(8)\n                        break\n                    case 's':\n                        arg = String(arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 't':\n                        arg = String(!!arg)\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'T':\n                        arg = Object.prototype.toString.call(arg).slice(8, -1).toLowerCase()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'u':\n                        arg = parseInt(arg, 10) >>> 0\n                        break\n                    case 'v':\n                        arg = arg.valueOf()\n                        arg = (ph.precision ? arg.substring(0, ph.precision) : arg)\n                        break\n                    case 'x':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16)\n                        break\n                    case 'X':\n                        arg = (parseInt(arg, 10) >>> 0).toString(16).toUpperCase()\n                        break\n                }\n                if (re.json.test(ph.type)) {\n                    output += arg\n                }\n                else {\n                    if (re.number.test(ph.type) && (!is_positive || ph.sign)) {\n                        sign = is_positive ? '+' : '-'\n                        arg = arg.toString().replace(re.sign, '')\n                    }\n                    else {\n                        sign = ''\n                    }\n                    pad_character = ph.pad_char ? ph.pad_char === '0' ? '0' : ph.pad_char.charAt(1) : ' '\n                    pad_length = ph.width - (sign + arg).length\n                    pad = ph.width ? (pad_length > 0 ? pad_character.repeat(pad_length) : '') : ''\n                    output += ph.align ? sign + arg + pad : (pad_character === '0' ? sign + pad + arg : pad + sign + arg)\n                }\n            }\n        }\n        return output\n    }\n\n    var sprintf_cache = Object.create(null)\n\n    function sprintf_parse(fmt) {\n        if (sprintf_cache[fmt]) {\n            return sprintf_cache[fmt]\n        }\n\n        var _fmt = fmt, match, parse_tree = [], arg_names = 0\n        while (_fmt) {\n            if ((match = re.text.exec(_fmt)) !== null) {\n                parse_tree.push(match[0])\n            }\n            else if ((match = re.modulo.exec(_fmt)) !== null) {\n                parse_tree.push('%')\n            }\n            else if ((match = re.placeholder.exec(_fmt)) !== null) {\n                if (match[2]) {\n                    arg_names |= 1\n                    var field_list = [], replacement_field = match[2], field_match = []\n                    if ((field_match = re.key.exec(replacement_field)) !== null) {\n                        field_list.push(field_match[1])\n                        while ((replacement_field = replacement_field.substring(field_match[0].length)) !== '') {\n                            if ((field_match = re.key_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else if ((field_match = re.index_access.exec(replacement_field)) !== null) {\n                                field_list.push(field_match[1])\n                            }\n                            else {\n                                throw new SyntaxError('[sprintf] failed to parse named argument key')\n                            }\n                        }\n                    }\n                    else {\n                        throw new SyntaxError('[sprintf] failed to parse named argument key')\n                    }\n                    match[2] = field_list\n                }\n                else {\n                    arg_names |= 2\n                }\n                if (arg_names === 3) {\n                    throw new Error('[sprintf] mixing positional and named placeholders is not (yet) supported')\n                }\n\n                parse_tree.push(\n                    {\n                        placeholder: match[0],\n                        param_no:    match[1],\n                        keys:        match[2],\n                        sign:        match[3],\n                        pad_char:    match[4],\n                        align:       match[5],\n                        width:       match[6],\n                        precision:   match[7],\n                        type:        match[8]\n                    }\n                )\n            }\n            else {\n                throw new SyntaxError('[sprintf] unexpected placeholder')\n            }\n            _fmt = _fmt.substring(match[0].length)\n        }\n        return sprintf_cache[fmt] = parse_tree\n    }\n\n    /**\n     * export to either browser or node.js\n     */\n    /* eslint-disable quote-props */\n    if (typeof exports !== 'undefined') {\n        exports['sprintf'] = sprintf\n        exports['vsprintf'] = vsprintf\n    }\n    if (typeof window !== 'undefined') {\n        window['sprintf'] = sprintf\n        window['vsprintf'] = vsprintf\n\n        if (typeof define === 'function' && define['amd']) {\n            define(function() {\n                return {\n                    'sprintf': sprintf,\n                    'vsprintf': vsprintf\n                }\n            })\n        }\n    }\n    /* eslint-enable quote-props */\n}(); // eslint-disable-line\n","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Minus = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 8 8\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M0 3v2h8V3H0z\"\n  }));\n});\nMinus.displayName = 'Minus';\nexport var MinusDimensions = {\n  height: 8,\n  width: 8\n};","import _extends from \"@babel/runtime/helpers/extends\";\nimport * as React from 'react';\nimport { EmotionIconBase } from '@emotion-icons/emotion-icon';\nexport var Plus = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var attrs = {\n    \"fill\": \"currentColor\",\n    \"xmlns\": \"http://www.w3.org/2000/svg\"\n  };\n  return /*#__PURE__*/React.createElement(EmotionIconBase, _extends({\n    iconAttrs: attrs,\n    iconVerticalAlign: \"middle\",\n    iconViewBox: \"0 0 8 8\"\n  }, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M3 0v3H0v2h3v3h2V5h3V3H5V0H3z\"\n  }));\n});\nPlus.displayName = 'Plus';\nexport var PlusDimensions = {\n  height: 8,\n  width: 8\n};","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport styled from \"@emotion/styled\"\n\nconst CONTROLS_WIDTH = 32 // px\n\nexport const StyledInputContainer = styled.div(({ theme }) => ({\n  display: \"flex\",\n  flexDirection: \"row\",\n  flexWrap: \"nowrap\",\n  alignItems: \"center\",\n\n  // Mimic the baseweb's borders here, so we can apply the focus style\n  // to the entire container and not only the input itself\n  border: \"1px solid transparent\",\n  transitionDuration: \"200ms\",\n  transitionProperty: \"border\",\n  transitionTimingFunction: \"cubic-bezier(0.2, 0.8, 0.4, 1)\",\n  borderRadius: theme.radii.md,\n\n  \"&.focused\": {\n    borderColor: theme.colors.primary,\n  },\n\n  input: {\n    MozAppearance: \"textfield\",\n    \"&::-webkit-inner-spin-button, &::-webkit-outer-spin-button\": {\n      WebkitAppearance: \"none\",\n      margin: theme.spacing.none,\n    },\n  },\n}))\n\nexport const StyledInputControls = styled.div({\n  display: \"flex\",\n  flexDirection: \"row\",\n  alignSelf: \"stretch\",\n})\n\nexport const StyledInputControl = styled.button(({ theme }) => ({\n  margin: theme.spacing.none,\n  border: \"none\",\n  height: theme.sizes.full,\n  display: \"flex\",\n  alignItems: \"center\",\n  width: `${CONTROLS_WIDTH}px`,\n  justifyContent: \"center\",\n  color: theme.colors.bodyText,\n  transition: \"color 300ms, backgroundColor 300ms\",\n  backgroundColor: theme.colors.secondaryBg,\n  \"&:hover:enabled, &:focus:enabled\": {\n    color: theme.colors.white,\n    backgroundColor: theme.colors.primary,\n    transition: \"none\",\n    outline: \"none\",\n  },\n  \"&:active\": {\n    outline: \"none\",\n    border: \"none\",\n  },\n  \"&:last-of-type\": {\n    borderTopRightRadius: theme.radii.md,\n    borderBottomRightRadius: theme.radii.md,\n  },\n  \"&:disabled\": {\n    cursor: \"not-allowed\",\n    color: theme.colors.fadedText40,\n  },\n}))\n\nexport const StyledInstructionsContainer = styled.div(({ theme }) => ({\n  position: \"absolute\",\n  marginRight: theme.spacing.twoXS,\n  left: 0,\n  right: `${CONTROLS_WIDTH * 2}px`,\n}))\n","/**\n * Copyright (c) Streamlit Inc. (2018-2022) Snowflake Inc. (2022)\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport React from \"react\"\nimport { Plus, Minus } from \"@emotion-icons/open-iconic\"\nimport { sprintf } from \"sprintf-js\"\nimport { FormClearHelper } from \"src/components/widgets/Form\"\nimport { logWarning } from \"src/lib/log\"\nimport { NumberInput as NumberInputProto } from \"src/autogen/proto\"\nimport { WidgetStateManager, Source } from \"src/lib/WidgetStateManager\"\nimport TooltipIcon from \"src/components/shared/TooltipIcon\"\nimport { Placement } from \"src/components/shared/Tooltip\"\n\nimport Icon from \"src/components/shared/Icon\"\nimport { Input as UIInput } from \"baseui/input\"\nimport InputInstructions from \"src/components/shared/InputInstructions/InputInstructions\"\nimport {\n  WidgetLabel,\n  StyledWidgetLabelHelp,\n} from \"src/components/widgets/BaseWidget\"\n\nimport { labelVisibilityProtoValueToEnum } from \"src/lib/utils\"\n\nimport {\n  StyledInputContainer,\n  StyledInputControl,\n  StyledInputControls,\n  StyledInstructionsContainer,\n} from \"./styled-components\"\n\nexport interface Props {\n  disabled: boolean\n  element: NumberInputProto\n  widgetMgr: WidgetStateManager\n  width: number\n}\n\nexport interface State {\n  /**\n   * True if the user-specified state.value has not yet been synced to the WidgetStateManager.\n   */\n  dirty: boolean\n\n  /**\n   * The value specified by the user via the UI. If the user didn't touch this\n   * widget's UI, the default value is used.\n   */\n  value: number\n\n  /**\n   * The value with applied format that is going to be shown to the user\n   */\n  formattedValue: string\n\n  /**\n   * True if the input is selected\n   */\n  isFocused: boolean\n}\n\nclass NumberInput extends React.PureComponent<Props, State> {\n  private readonly formClearHelper = new FormClearHelper()\n\n  private inputRef = React.createRef<HTMLInputElement | HTMLTextAreaElement>()\n\n  constructor(props: Props) {\n    super(props)\n\n    this.state = {\n      dirty: false,\n      value: this.initialValue,\n      formattedValue: this.formatValue(this.initialValue),\n      isFocused: false,\n    }\n  }\n\n  get initialValue(): number {\n    // If WidgetStateManager knew a value for this widget, initialize to that.\n    // Otherwise, use the default value from the widget protobuf\n    const storedValue = this.isIntData()\n      ? this.props.widgetMgr.getIntValue(this.props.element)\n      : this.props.widgetMgr.getDoubleValue(this.props.element)\n\n    return storedValue !== undefined ? storedValue : this.props.element.default\n  }\n\n  public componentDidMount(): void {\n    if (this.props.element.setValue) {\n      this.updateFromProtobuf()\n    } else {\n      this.commitWidgetValue({ fromUi: false })\n    }\n  }\n\n  public componentDidUpdate(): void {\n    this.maybeUpdateFromProtobuf()\n  }\n\n  public componentWillUnmount(): void {\n    this.formClearHelper.disconnect()\n  }\n\n  private maybeUpdateFromProtobuf(): void {\n    const { setValue } = this.props.element\n    if (setValue) {\n      this.updateFromProtobuf()\n    }\n  }\n\n  private updateFromProtobuf(): void {\n    const { value } = this.props.element\n    this.props.element.setValue = false\n    this.setState({ value, formattedValue: this.formatValue(value) }, () => {\n      this.commitWidgetValue({ fromUi: false })\n    })\n  }\n\n  private formatValue = (value: number): string => {\n    const format = getNonEmptyString(this.props.element.format)\n    if (format == null) {\n      return value.toString()\n    }\n\n    try {\n      return sprintf(format, value)\n    } catch (e) {\n      // Don't explode if we have a malformed format string.\n      logWarning(`Error in sprintf(${format}, ${value}): ${e}`)\n      return String(value)\n    }\n  }\n\n  private isIntData = (): boolean => {\n    return this.props.element.dataType === NumberInputProto.DataType.INT\n  }\n\n  private getMin = (): number => {\n    return this.props.element.hasMin ? this.props.element.min : -Infinity\n  }\n\n  private getMax = (): number => {\n    return this.props.element.hasMax ? this.props.element.max : +Infinity\n  }\n\n  private getStep = (): number => {\n    const { step } = this.props.element\n\n    if (step) {\n      return step\n    }\n    if (this.isIntData()) {\n      return 1\n    }\n    return 0.01\n  }\n\n  /** Commit state.value to the WidgetStateManager. */\n  private commitWidgetValue = (source: Source): void => {\n    const { value } = this.state\n    const { element, widgetMgr } = this.props\n    const data = this.props.element\n\n    const min = this.getMin()\n    const max = this.getMax()\n\n    if (min > value || value > max) {\n      const node = this.inputRef.current\n      if (node) {\n        node.reportValidity()\n      }\n    } else {\n      const valueToBeSaved = value || value === 0 ? value : data.default\n\n      if (this.isIntData()) {\n        widgetMgr.setIntValue(element, valueToBeSaved, source)\n      } else {\n        widgetMgr.setDoubleValue(element, valueToBeSaved, source)\n      }\n\n      this.setState({\n        dirty: false,\n        value: valueToBeSaved,\n        formattedValue: this.formatValue(valueToBeSaved),\n      })\n    }\n  }\n\n  /**\n   * If we're part of a clear_on_submit form, this will be called when our\n   * form is submitted. Restore our default value and update the WidgetManager.\n   */\n  private onFormCleared = (): void => {\n    this.setState(\n      (_, prevProps) => {\n        return { value: prevProps.element.default }\n      },\n      () => this.commitWidgetValue({ fromUi: true })\n    )\n  }\n\n  private onBlur = (): void => {\n    if (this.state.dirty) {\n      this.commitWidgetValue({ fromUi: true })\n    }\n\n    this.setState({ isFocused: false })\n  }\n\n  private onFocus = (): void => {\n    this.setState({ isFocused: true })\n  }\n\n  private onChange = (\n    e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void => {\n    const { value } = e.target\n\n    let numValue: number\n\n    if (this.isIntData()) {\n      numValue = parseInt(value, 10)\n    } else {\n      numValue = parseFloat(value)\n    }\n\n    this.setState({\n      dirty: true,\n      value: numValue,\n      formattedValue: value,\n    })\n  }\n\n  private onKeyDown = (\n    e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void => {\n    const { key } = e\n\n    switch (key) {\n      case \"ArrowUp\":\n        e.preventDefault()\n\n        this.modifyValueUsingStep(\"increment\")()\n        break\n      case \"ArrowDown\":\n        e.preventDefault()\n\n        this.modifyValueUsingStep(\"decrement\")()\n        break\n      default: // Do nothing\n    }\n  }\n\n  private onKeyPress = (\n    e: React.KeyboardEvent<HTMLInputElement | HTMLTextAreaElement>\n  ): void => {\n    if (e.key === \"Enter\" && this.state.dirty) {\n      this.commitWidgetValue({ fromUi: true })\n    }\n  }\n\n  /** True if the input's current value can be decremented by its step. */\n  private get canDecrement(): boolean {\n    return this.state.value - this.getStep() >= this.getMin()\n  }\n\n  /** True if the input's current value can be incremented by its step. */\n  private get canIncrement(): boolean {\n    return this.state.value + this.getStep() <= this.getMax()\n  }\n\n  private modifyValueUsingStep =\n    (modifier: \"increment\" | \"decrement\"): any =>\n    (): void => {\n      const { value } = this.state\n      const step = this.getStep()\n\n      switch (modifier) {\n        case \"increment\":\n          if (this.canIncrement) {\n            this.setState(\n              {\n                dirty: true,\n                value: value + step,\n              },\n              () => {\n                this.commitWidgetValue({ fromUi: true })\n              }\n            )\n          }\n          break\n        case \"decrement\":\n          if (this.canDecrement) {\n            this.setState(\n              {\n                dirty: true,\n                value: value - step,\n              },\n              () => {\n                this.commitWidgetValue({ fromUi: true })\n              }\n            )\n          }\n          break\n        default: // Do nothing\n      }\n    }\n\n  public render(): React.ReactNode {\n    const { element, width, disabled, widgetMgr } = this.props\n    const { formattedValue, dirty, isFocused } = this.state\n\n    const style = { width }\n\n    const disableDecrement = !this.canDecrement || disabled\n    const disableIncrement = !this.canIncrement || disabled\n\n    // Manage our form-clear event handler.\n    this.formClearHelper.manageFormClearListener(\n      widgetMgr,\n      element.formId,\n      this.onFormCleared\n    )\n\n    return (\n      <div className=\"stNumberInput\" style={style}>\n        <WidgetLabel\n          label={element.label}\n          disabled={disabled}\n          labelVisibility={labelVisibilityProtoValueToEnum(\n            element.labelVisibility?.value\n          )}\n        >\n          {element.help && (\n            <StyledWidgetLabelHelp>\n              <TooltipIcon\n                content={element.help}\n                placement={Placement.TOP_RIGHT}\n              />\n            </StyledWidgetLabelHelp>\n          )}\n        </WidgetLabel>\n        <StyledInputContainer className={isFocused ? \"focused\" : \"\"}>\n          <UIInput\n            type=\"number\"\n            inputRef={this.inputRef}\n            value={formattedValue}\n            onBlur={this.onBlur}\n            onFocus={this.onFocus}\n            onChange={this.onChange}\n            onKeyPress={this.onKeyPress}\n            onKeyDown={this.onKeyDown}\n            disabled={disabled}\n            aria-label={element.label}\n            overrides={{\n              Input: {\n                props: {\n                  step: this.getStep(),\n                  min: this.getMin(),\n                  max: this.getMax(),\n                },\n                style: {\n                  lineHeight: \"1.4\",\n                  // Baseweb requires long-hand props, short-hand leads to weird bugs & warnings.\n                  paddingRight: \".5rem\",\n                  paddingLeft: \".5rem\",\n                  paddingBottom: \".5rem\",\n                  paddingTop: \".5rem\",\n                },\n              },\n              InputContainer: {\n                style: () => ({\n                  borderTopRightRadius: 0,\n                  borderBottomRightRadius: 0,\n                }),\n              },\n              Root: {\n                style: () => ({\n                  borderTopRightRadius: 0,\n                  borderBottomRightRadius: 0,\n                  // Baseweb requires long-hand props, short-hand leads to weird bugs & warnings.\n                  borderLeftWidth: 0,\n                  borderRightWidth: 0,\n                  borderTopWidth: 0,\n                  borderBottomWidth: 0,\n                }),\n              },\n            }}\n          />\n          <StyledInputControls>\n            <StyledInputControl\n              className=\"step-down\"\n              onClick={this.modifyValueUsingStep(\"decrement\")}\n              disabled={disableDecrement}\n            >\n              <Icon\n                content={Minus}\n                size=\"xs\"\n                color={this.canDecrement ? \"inherit\" : \"disabled\"}\n              />\n            </StyledInputControl>\n            <StyledInputControl\n              className=\"step-up\"\n              onClick={this.modifyValueUsingStep(\"increment\")}\n              disabled={disableIncrement}\n            >\n              <Icon\n                content={Plus}\n                size=\"xs\"\n                color={this.canIncrement ? \"inherit\" : \"disabled\"}\n              />\n            </StyledInputControl>\n          </StyledInputControls>\n        </StyledInputContainer>\n        <StyledInstructionsContainer>\n          <InputInstructions\n            dirty={dirty}\n            value={formattedValue}\n            className=\"input-instructions\"\n          />\n        </StyledInstructionsContainer>\n      </div>\n    )\n  }\n}\n\n/**\n * Return a string property from an element. If the string is\n * null or empty, return undefined instead.\n */\nfunction getNonEmptyString(\n  value: string | null | undefined\n): string | undefined {\n  return value == null || value === \"\" ? undefined : value\n}\n\nexport default NumberInput\n"],"sourceRoot":""}