"use strict";(self.webpackChunkstlite=self.webpackChunkstlite||[]).push([[9996],{81805:(e,t,r)=>{r.d(t,{X:()=>o,o:()=>i});var l=r(72176),a=r(61872);class i{constructor(){this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}manageFormClearListener(e,t,r){(0,a.se)(this.formClearListener)&&this.lastWidgetMgr===e&&this.lastFormId===t||(this.disconnect(),(0,a._L)(t)&&(this.formClearListener=e.addFormClearedListener(t,r),this.lastWidgetMgr=e,this.lastFormId=t))}disconnect(){var e;null===(e=this.formClearListener)||void 0===e||e.disconnect(),this.formClearListener=void 0,this.lastWidgetMgr=void 0,this.lastFormId=void 0}}function o(e){let{element:t,widgetMgr:r,onFormCleared:i}=e;(0,l.useEffect)((()=>{if(!(0,a._L)(t.formId))return;const e=r.addFormClearedListener(t.formId,i);return()=>{e.disconnect()}}),[t,r,i])}},69996:(e,t,r)=>{r.r(t),r.d(t,{default:()=>f});var l=r(72176),a=r(70341),i=r(61872),o=r(69204),d=r(80812);const n=(e,t)=>e.getIntValue(t),s=e=>{var t;return null!==(t=e.default)&&void 0!==t?t:null},u=e=>{var t;return null!==(t=e.value)&&void 0!==t?t:null},g=(e,t,r,l)=>{t.setIntValue(e,r.value,{fromUi:r.fromUi},l)},m=e=>{let{disabled:t,element:r,widgetMgr:m,width:f,fragmentId:c}=e;const{options:v,help:h,label:C,labelVisibility:F,placeholder:M}=r,[S,b]=(0,o.t)({getStateFromWidgetMgr:n,getDefaultStateFromProto:s,getCurrStateFromProto:u,updateWidgetMgrState:g,element:r,widgetMgr:m,fragmentId:c}),p=(0,l.useCallback)((e=>{b({value:e,fromUi:!0})}),[b]),I=(0,i.hX)(r.default)&&!t;return(0,d.jsx)(a.Ay,{label:C,labelVisibility:(0,i.yv)(null===F||void 0===F?void 0:F.value),options:v,disabled:t,width:f,onChange:p,value:S,help:h,placeholder:M,clearable:I})},f=(0,l.memo)(m)},69204:(e,t,r)=>{r.d(t,{_:()=>o,t:()=>d});var l=r(72176),a=r(81805),i=r(61872);function o(e){let{getStateFromWidgetMgr:t,getDefaultState:r,updateWidgetMgrState:o,element:d,widgetMgr:n,fragmentId:s,onFormCleared:u}=e;const[g,m]=(0,l.useState)((()=>{var e;return null!==(e=t(n,d))&&void 0!==e?e:r(n,d)})),[f,c]=(0,l.useState)({value:g,fromUi:!1});(0,l.useEffect)((()=>{(0,i.hX)(f)||(c(null),m(f.value),o(d,n,f,s))}),[f,o,d,n,s]);const v=(0,l.useCallback)((()=>{c({value:r(n,d),fromUi:!0}),null===u||void 0===u||u()}),[c,d,r,n,u]);return(0,a.X)({widgetMgr:n,element:d,onFormCleared:v}),[g,c]}function d(e){let{getStateFromWidgetMgr:t,getDefaultStateFromProto:r,getCurrStateFromProto:a,updateWidgetMgrState:i,element:d,widgetMgr:n,fragmentId:s,onFormCleared:u}=e;const g=(0,l.useCallback)(((e,t)=>r(t)),[r]),[m,f]=o({getStateFromWidgetMgr:t,getDefaultState:g,updateWidgetMgrState:i,element:d,widgetMgr:n,fragmentId:s,onFormCleared:u});return(0,l.useEffect)((()=>{d.setValue&&(d.setValue=!1,f({value:a(d),fromUi:!1}))}),[d,a,f]),[m,f]}}}]);
//# sourceMappingURL=9996.6bad4ac5.chunk.js.map